from flask import Flask, render_template_string, request

app = Flask(__name__)

products = []

form_template = """
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Add Product</title>
</head>
<body>
    <h2>Add New Product</h2>
    <form method="post">
        <label>Product Name:</label>
        <input type="text" name="name" required><br>

        <label>Price:</label>
        <input type="number" name="price" required><br>

        <label>Category:</label>
        <input type="text" name="category" required><br>

        <label>Quantity:</label>
        <input type="number" name="quantity" required><br>

        <button type="submit">Add</button>
    </form>
</body>
</html>
"""

@app.route("/", methods=["GET", "POST"])
def add():
    if request.method == "POST":
        new_product = {
            "name": request.form["name"],
            "price": int(request.form["price"]),
            "category": request.form["category"],
            "quantity": int(request.form["quantity"])
        }
        products.append(new_product)
    return render_template_string(form_template)

app.run(debug=True)
